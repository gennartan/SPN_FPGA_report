%TEX root = ./overview.tex

\documentclass{standalone}
\usepackage{tikz}
\usepackage{pgfplots}


\pgfplotsset{compat=1.13}

\begin{document}

\input{discard_pgf}

\begin{tikzpicture}
\begin{loglogaxis}[
        log ticks with fixed point,
        width=6cm,
        xmin=5,
        xmax=50,
        ymin=1,
        ybar,
        bar width=0.2cm,
        xlabel={Posit size},
        xtick align=inside,
        xtick={8, 16, 32},
        ylabel={MuxF7 [units?]},
        legend pos=outer north east,
        % x tick label style={font=\normalsize, rotate=45, anchor=east}
        ]
        \addplot[discard if not both={Expsize}{0}{Operator}{multiplier}, fill=blue!20] table [x=Size,y=MuxF7,col sep=comma] {data.txt};
        \addplot[discard if not both={Expsize}{1}{Operator}{multiplier}, fill=green!20] table [x=Size,y=MuxF7,col sep=comma] {data.txt};
        \addplot[discard if not both={Expsize}{2}{Operator}{multiplier}, fill=yellow!20] table [x=Size,y=MuxF7,col sep=comma] {data.txt};
        \addplot[discard if not both={Expsize}{3}{Operator}{multiplier}, fill=brown!20] table [x=Size,y=MuxF7,col sep=comma] {data.txt};
        \legend{es=0, es=1, es=2, es=3}
      \end{loglogaxis}
\end{tikzpicture}


\end{document}